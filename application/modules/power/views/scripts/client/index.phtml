<?php
	$this->title = "BBA Clients";
	$this->headTitle($this->title);

    echo $this->clientSearchForm;
    /* @var $client Power_Model_Client */
    echo hash('sha512', 'glop');
    echo "<br />";
    echo openssl_digest('glop', 'sha512');

?>

<table>
	<tr>
    <th>Client <span class="id">(id)</span></th>
	<th>Description</th>
	<th>Letter of Authority Expiry</th>
	<th>&nbsp;</th>

	</tr>
    <?php foreach($this->clients as $client) : ?>
	<tr>
        <td>
            <?php echo $this->escape($client->name); ?>&nbsp;
            <span class="id">(<?php echo $this->escape($client->id); ?>)</span>
        </td>
        <td><?php echo $this->escape($client->desc); ?></td>
        <td><?php echo $this->escape($client->dateExpiryLoa->toString('dd/MM/yyyy'));?></td>
		<td class="action">
			<a href="<?php echo $this->url(array(
                'controller'    => 'client',
                'action'        => 'edit',
				'clientId'       => $client->id
            ));?>" class="button">Edit</a>

			<a href="<?php echo $this->url(array(
                'controller'    => 'client',
                'action'        => 'delete',
                'clientId'       => $client->id
            ));?>" class="button">Delete</a>
		</td>
	</tr>
    <?php endforeach; ?>
</table>

<?php
if ($this->clients instanceof Zend_Paginator) {
    echo $this->paginationControl(
            $this->clients,
            'Sliding',
            'paginate.phtml',
            array('params' => $this->search)
    );
}
?>

<p>
    <a href="<?php echo $this->url(array(
        'controller'    => 'client',
        'action'        => 'add'
        ), 'default', true);?>" class="button">Add New Client</a>
</p>