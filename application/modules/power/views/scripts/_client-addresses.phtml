<?php echo $this->partial('_table-head.phtml', array(
    'heading'   => 'Client Addresses',
    'label'     => 'New Address',
    'location'  => $this->url(array(
        'controller'    => 'client-address',
        'action'        => 'add',
        'clientId'      => $this->idClient
    ), 'default', true)
)); ?>

<table>
    <tr>
        <th>Address Name <span class="id">(id)</span></th>
        <th>Address 1</th>
        <th>Address 2</th>
        <th>Address 3</th>
        <th>Postcode</th>
        <th>&nbsp;</th>
    </tr>
<?php
	if ($this->addresses):
		foreach($this->addresses as $address):
?>
			<tr class="<?php if ($this->currentEdit == $address->idAddress) echo 'current-eidt'; ?>">
				<td><?php echo $this->escape($address->addressName); ?>&nbsp;
					<span class="id">(<?php echo $this->escape($address->idAddress); ?>)</span></td>
				<td><?php echo $this->escape($address->address1); ?></td>
				<td><?php echo $this->escape($address->address2); ?></td>
				<td><?php echo $this->escape($address->address3); ?></td>
				<td><?php echo $this->escape($address->postcode); ?></td>
				<td class="action">
					<?php if ($this->currentEdit != $address->idAddress): ?>
                    <button dojoType="dijit.form.Button" type="button">
                        Edit
                        <script type="dojo/method" event="onClick" args="evt">
                            location.href = "<?php echo $this->url(array(
                                'controller'    => 'client-address',
                                'action'        => 'edit',
                                'clientId'      => $address->idClient,
                                'addressId'     => $address->idAddress
                            ), 'default', true); ?>";
                        </script>
                    </button>
					<?php else: ?>
					&nbsp;
					<?php endif; ?>
				</td>
			</tr>
	<?php endforeach;
	else: ?>
		<tr>
            <td colspan="6">This Client has no addresses yet.</td>
		</tr>
<?php endif; ?>
</table>
